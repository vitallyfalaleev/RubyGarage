(function(t){function e(e){for(var a,s,i=e[0],c=e[1],l=e[2],d=0,m=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],a=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=r[0]))}return t}var a={},n={app:0},o=[];function s(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=a,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(r,a,function(e){return t[e]}.bind(null,a));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-app-bar",{attrs:{app:"",color:"primary darken-2",dense:""}},[r("div",{staticClass:"d-flex align-center"},[r("v-toolbar-title",{staticClass:"text-uppercase font-weight-black"},[t._v("TodoList")]),r("v-subheader",[t._v("for RubyGarage")])],1),r("v-spacer"),r("v-btn",{attrs:{text:""},on:{click:function(e){return t.openModal()}}},[r("span",{staticClass:"mr-2"},[t._v("Profile "+t._s(t.userEmail))]),r("v-icon",[t._v("mdi-account")])],1)],1),r("v-content",[r("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[r("UserProfile")],1),t.isLogin?r("router-view"):r("v-container",[r("v-card",{attrs:{color:"error"}},[r("v-card-title",[t._v("You need to Singin or Login.")])],1)],1)],1)],1)},o=[],s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.isLogin?r("UserProfileEditing"):r("UserProfileForms")],1)},i=[],c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{attrs:{"min-height":"250"}},[r("v-card-actions",[r("v-btn",{attrs:{text:""},on:{click:t.modalClose}},[r("v-icon",[t._v("mdi-close")])],1)],1),r("v-card-title",[t._v("Profile")]),r("v-card-text",[r("v-card-title",[t._v(t._s(t.userEmail))]),r("v-btn",{attrs:{color:"warning",right:"",absolute:"",medium:""},on:{click:t.logout}},[t._v("logout")])],1)],1)},l=[],u={name:"UserProfileEditing",methods:{logout:function(){this.$store.dispatch("destroySession")},modalClose:function(){this.$store.dispatch("setModal")}},computed:{userEmail:function(){return this.$store.getters.userEmail}}},d=u,m=r("2877"),f=r("6544"),p=r.n(f),v=r("8336"),h=r("b0af"),g=r("99d9"),k=r("132d"),b=Object(m["a"])(d,c,l,!1,null,null,null),_=b.exports;p()(b,{VBtn:v["a"],VCard:h["a"],VCardActions:g["a"],VCardText:g["c"],VCardTitle:g["d"],VIcon:k["a"]});var E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{attrs:{"min-height":"250"}},[r("v-card-actions",[r("v-btn",{attrs:{text:""},on:{click:t.modalClose}},[r("v-icon",[t._v("mdi-close")])],1)],1),r("v-tabs",{attrs:{grow:!0}},[r("v-tabs-slider"),r("v-tab",{key:"login"},[t._v("Login")]),r("v-tab",{key:"registration"},[t._v("Registration")]),r("v-tab-item",{key:"login"},[r("UserProfileFormsLogin")],1),r("v-tab-item",{key:"registration"},[r("UserProfileFormsRegistration")],1)],1)],1)},T=[],j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card-text",[r("v-form",{on:{submit:function(e){return e.preventDefault(),t.userRegistration(e)}}},[r("v-text-field",{attrs:{rules:t.emailFormRules,"error-messages":t.formError,label:"E-mail",required:""},model:{value:t.registrationForm.email,callback:function(e){t.$set(t.registrationForm,"email",e)},expression:"registrationForm.email"}}),r("v-text-field",{attrs:{rules:t.passwordRules,label:"Password",type:"password",required:""},model:{value:t.registrationForm.password,callback:function(e){t.$set(t.registrationForm,"password",e)},expression:"registrationForm.password"}}),r("v-text-field",{attrs:{label:"Password confirmation",type:"password",required:""},model:{value:t.registrationForm.password_confirmation,callback:function(e){t.$set(t.registrationForm,"password_confirmation",e)},expression:"registrationForm.password_confirmation"}}),r("v-btn",{attrs:{disabled:this.checkPassword(t.registrationForm),color:"success",medium:"",loading:"loading"===this.status,type:"submit"}},[t._v(" submit ")])],1)],1)},S=[],x={name:"UserProfileFormsRegistration",data:function(){return{registrationForm:{email:"",password:"",password_confirmation:""},emailFormRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],passwordRules:[function(t){return!!t||"Password cant be blank"},function(t){return t.length>=6||"Password must be at least 6 characters."}],formError:""}},methods:{userRegistration:function(){this.$store.dispatch("userRegistration",{user:this.registrationForm})},checkPassword:function(t){return!(""!==t.password&&""!==t.password_confirmation&&t.password===t.password_confirmation)},checkLoginPassword:function(t){return!(""!==t.password&&""!==t.email&&t.password.length>=6)}},computed:{status:function(){return this.$store.getters.status}}},w=x,P=r("4bd4"),V=r("8654"),C=Object(m["a"])(w,j,S,!1,null,null,null),O=C.exports;p()(C,{VBtn:v["a"],VCardText:g["c"],VForm:P["a"],VTextField:V["a"]});var y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card-text",[r("v-form",{on:{submit:function(e){return e.preventDefault(),t.newSession(e)}}},[r("v-text-field",{attrs:{rules:t.emailFormRules,"error-messages":t.formError,label:"E-mail",required:""},model:{value:t.loginForm.email,callback:function(e){t.$set(t.loginForm,"email",e)},expression:"loginForm.email"}}),r("v-text-field",{attrs:{rules:t.passwordRules,"error-messages":t.formError,label:"Password",type:"password",required:""},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}}),r("v-btn",{attrs:{color:"success",medium:"",disabled:this.checkLoginPassword(t.loginForm),loading:"loading"===this.status,type:"submit"}},[t._v("submit")])],1)],1)},$=[],F={name:"UserProfileFormsRegistration",data:function(){return{loginForm:{email:"",password:""},emailFormRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],passwordRules:[function(t){return!!t||"Password cant be blank"},function(t){return t.length>=6||"Password must be at least 6 characters."}],formError:""}},methods:{newSession:function(){this.$store.dispatch("createSession",{user:this.loginForm})},checkPassword:function(t){return!(""!==t.password&&""!==t.password_confirmation&&t.password===t.password_confirmation)},checkLoginPassword:function(t){return!(""!==t.password&&""!==t.email&&t.password.length>=6)}},computed:{status:function(){return this.$store.getters.status}}},D=F,L=Object(m["a"])(D,y,$,!1,null,null,null),R=L.exports;p()(L,{VBtn:v["a"],VCardText:g["c"],VForm:P["a"],VTextField:V["a"]});var A={name:"UserProfileForms",data:function(){return{}},methods:{modalClose:function(){this.$store.dispatch("setModal")}},components:{UserProfileFormsRegistration:O,UserProfileFormsLogin:R}},I=A,U=r("71a3"),M=r("c671"),q=r("fe57"),B=r("9a96"),N=Object(m["a"])(I,E,T,!1,null,null,null),z=N.exports;p()(N,{VBtn:v["a"],VCard:h["a"],VCardActions:g["a"],VIcon:k["a"],VTab:U["a"],VTabItem:M["a"],VTabs:q["a"],VTabsSlider:B["a"]});var J={name:"UserProfile",computed:{modal:function(){return this.$store.getters.modal},isLogin:function(){return this.$store.getters.isLogin}},components:{UserProfileEditing:_,UserProfileForms:z}},K=J,Q=Object(m["a"])(K,s,i,!1,null,null,null),H=Q.exports,G={name:"App",components:{UserProfile:H},data:function(){return{userEmail:""}},methods:{openModal:function(){this.$store.dispatch("setModal")}},computed:{modal:function(){return this.$store.getters.modal},isLogin:function(){return this.$store.getters.isLogin}}},Y=G,W=r("7496"),X=r("40dc"),Z=r("a523"),tt=r("a75b"),et=r("169a"),rt=r("2fa4"),at=r("e0c7"),nt=r("2a7f"),ot=Object(m["a"])(Y,n,o,!1,null,null,null),st=ot.exports;p()(ot,{VApp:W["a"],VAppBar:X["a"],VBtn:v["a"],VCard:h["a"],VCardTitle:g["d"],VContainer:Z["a"],VContent:tt["a"],VDialog:et["a"],VIcon:k["a"],VSpacer:rt["a"],VSubheader:at["a"],VToolbarTitle:nt["a"]});var it=r("9483");Object(it["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var ct=r("8c4f"),lt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("ProjectsContainer")],1)},ut=[],dt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("ProjectCreation")],1),0==t.projects.length?r("v-col",{attrs:{cols:"12"}},[r("v-card",[r("v-card-text",[t._v(" Create project. ")])],1)],1):t._e()],1),r("ProjectList")],1)},mt=[],ft=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("v-card-title",[t._v("Create Project ")]),r("v-card-text",[r("v-form",{on:{submit:function(e){return e.preventDefault(),t.createProject(e)}}},[r("v-row",[r("v-col",{attrs:{cols:"",col:"10",md:"10"}},[r("v-text-field",{attrs:{counter:120,rules:t.projectTitleRules,label:"Project Name",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),r("v-col",{attrs:{cols:"",col:"2",md:"2"}},[r("v-btn",{staticClass:"mr-4",attrs:{color:"success",loading:"loading"===this.status,disabled:this.checkTitle(),type:"submit"}},[t._v(" Create ")])],1)],1)],1)],1)],1)},pt=[],vt={name:"ProjectCreation",data:function(){return{title:"",sendCheck:!1,projectTitleRules:[function(t){return!!t||"Title is required"},function(t){return t&&t.length<=120||"Name must be less than 120 characters"}]}},methods:{createProject:function(){this.$store.dispatch("createProject",{title:this.title})},checkTitle:function(){return!(""!==this.title&&this.title.length<=120)}},computed:{status:function(){return this.$store.getters.status}}},ht=vt,gt=r("62ad"),kt=r("0fd9"),bt=Object(m["a"])(ht,ft,pt,!1,null,null,null),_t=bt.exports;p()(bt,{VBtn:v["a"],VCard:h["a"],VCardText:g["c"],VCardTitle:g["d"],VCol:gt["a"],VForm:P["a"],VRow:kt["a"],VTextField:V["a"]});var Et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",[t.listStatus?r("v-col",{attrs:{cols:"12"}},[r("v-skeleton-loader",{attrs:{transition:"fade-transition",type:"list-item-two-line"}})],1):r("v-col",{attrs:{cols:"12"}},[r("v-row",t._l(t.projects,(function(t){return r("v-col",{key:t.id,attrs:{cols:"12"}},[r("ProjectItem",{attrs:{project:t}})],1)})),1)],1)],1)},Tt=[],jt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[t.isEdit?r("v-card-text",[r("v-form",{on:{submit:function(e){return e.preventDefault(),t.updateProject()}}},[r("v-row",[r("v-col",[r("v-text-field",{attrs:{placeholder:t.project.attributes.title,rules:t.projectTitleRules,counter:120,label:"Project Name",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),r("v-col",[r("v-btn",{staticClass:"mr-4",attrs:{color:"success",type:"submit"}},[t._v(" Save ")])],1)],1)],1)],1):r("v-card-title",{domProps:{textContent:t._s(t.project.attributes.title)}}),r("task-list",{attrs:{data:{tasks:t.project.attributes.tasks,id:t.project.id}}}),r("v-card-actions",[r("v-btn-toggle",{attrs:{dense:"",group:""}},[r("v-btn",{attrs:{text:""},on:{click:function(e){t.isEdit=!t.isEdit}}},[t.isEdit?r("v-icon",[t._v("mdi-cancel")]):r("v-icon",[t._v("mdi-pencil-outline")])],1),r("v-btn",{attrs:{text:"",tile:""},on:{click:function(e){return t.deleteProject()}}},[r("v-icon",[t._v("mdi-delete-outline")])],1)],1)],1)],1)},St=[],xt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("v-card-text",[r("v-form",{on:{submit:function(e){return e.preventDefault(),t.createTask()}}},[r("v-row",[r("v-col",{attrs:{cols:"12",md:"8"}},[r("v-text-field",{attrs:{counter:120,label:"Task Name",required:""},model:{value:t.task.title,callback:function(e){t.$set(t.task,"title",e)},expression:"task.title"}})],1),r("v-col",{attrs:{cols:"12",md:"3"}},[r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-text-field",t._g({attrs:{label:"Pick date",readonly:""},model:{value:t.task.date,callback:function(e){t.$set(t.task,"date",e)},expression:"task.date"}},a))]}}]),model:{value:t.datePicker,callback:function(e){t.datePicker=e},expression:"datePicker"}},[r("v-date-picker",{attrs:{min:t.minDate},on:{input:function(e){t.datePicker=!1}},model:{value:t.task.date,callback:function(e){t.$set(t.task,"date",e)},expression:"task.date"}})],1)],1),r("v-col",{attrs:{cols:"12",md:"1"}},[r("v-btn",{attrs:{text:"",type:"submit"}},[r("v-icon",[t._v("mdi-send")])],1)],1)],1)],1)],1),r("v-divider"),t._l(t.data.tasks,(function(t){return r("v-card",{key:t.id},[r("TaskItem",{attrs:{task:t}})],1)}))],2)},wt=[],Pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{class:t.expired?"red--text":"",attrs:{outlined:""}},[t.edit?r("v-form",{on:{submit:function(e){return e.preventDefault(),t.updateTask()}}},[r("v-row",[r("v-col",{staticClass:"d-flex justify-center align-center",attrs:{cols:"1"}},[r("v-checkbox",{attrs:{color:"primary"},on:{change:function(e){return t.taskDone()}},model:{value:t.task.done,callback:function(e){t.$set(t.task,"done",e)},expression:"task.done"}})],1),r("v-col",[r("v-text-field",{attrs:{counter:120,label:"Task Name",required:""},model:{value:t.task.name,callback:function(e){t.$set(t.task,"name",e)},expression:"task.name"}})],1),r("v-col",{attrs:{cols:"2"}},[r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-text-field",t._g({attrs:{label:"Pick date",readonly:""},model:{value:t.task.date,callback:function(e){t.$set(t.task,"date",e)},expression:"task.date"}},a))]}}]),model:{value:t.datePicker,callback:function(e){t.datePicker=e},expression:"datePicker"}},[r("v-date-picker",{attrs:{min:t.minDate},on:{input:function(e){t.datePicker=!1}},model:{value:t.task.date,callback:function(e){t.$set(t.task,"date",e)},expression:"task.date"}})],1)],1),r("v-col",{attrs:{cols:"2"}},[r("v-btn-toggle",{attrs:{dense:"",group:""}},[r("v-btn",{attrs:{text:"",type:"submit"}},[r("v-icon",[t._v("mdi-send")])],1),r("v-btn",{attrs:{text:""},on:{click:function(e){t.edit=!t.edit}}},[r("v-icon",[t._v("mdi-close")])],1)],1)],1)],1)],1):r("v-row",[r("v-col",{staticClass:"d-flex justify-center align-center",attrs:{cols:"1"}},[r("v-checkbox",{attrs:{color:"primary"},on:{change:function(e){return t.taskDone()}},model:{value:t.task.done,callback:function(e){t.$set(t.task,"done",e)},expression:"task.done"}})],1),r("v-col",[r("v-card-title",[t._v(" "+t._s(t.task.name)+" ")]),r("v-card-subtitle",[t._v(" "+t._s(t.task.date)+" ")])],1),r("v-col",{attrs:{cols:"2"}},[r("v-btn-toggle",{attrs:{dense:"",group:""}},[r("v-btn",{attrs:{text:""},on:{click:function(e){t.edit=!t.edit}}},[r("v-icon",[t._v("mdi-pencil-outline")])],1),r("v-btn",{attrs:{text:""},on:{click:function(e){return t.deleteTask()}}},[r("v-icon",[t._v("mdi-delete-outline")])],1)],1)],1)],1)],1)},Vt=[],Ct=(r("b0c0"),{name:"TaskItem",props:["task"],data:function(){return{minDate:(new Date).toISOString().substr(0,10),datePicker:!1,edit:!1,expired:!1}},methods:{exp:function(){var t=(new Date).toISOString().substr(0,10);t>this.task.date?this.expired=!0:this.expired=!1},updateTask:function(){var t=this;this.$store.dispatch("updateTask",{id:this.task.id,name:this.task.name,date:this.task.date}).then((function(){t.edit=!t.edit}))},taskDone:function(){this.$store.dispatch("doneTask",{id:this.task.id,status:this.task.done})},deleteTask:function(){this.$store.dispatch("deleteTask",this.task)}},beforeMount:function(){this.exp()}}),Ot=Ct,yt=r("a609"),$t=r("ac7c"),Ft=r("2e4b"),Dt=r("e449"),Lt=Object(m["a"])(Ot,Pt,Vt,!1,null,null,null),Rt=Lt.exports;p()(Lt,{VBtn:v["a"],VBtnToggle:yt["a"],VCard:h["a"],VCardSubtitle:g["b"],VCardTitle:g["d"],VCheckbox:$t["a"],VCol:gt["a"],VDatePicker:Ft["a"],VForm:P["a"],VIcon:k["a"],VMenu:Dt["a"],VRow:kt["a"],VTextField:V["a"]});var At={name:"TaskList",props:["data"],data:function(){return{task:{title:"",date:(new Date).toISOString().substr(0,10)},minDate:(new Date).toISOString().substr(0,10),datePicker:!1,taskTitleRules:[function(t){return!!t||"Title is required"},function(t){return t&&t.length<=120||"Title must be less than 120 characters"}]}},components:{TaskItem:Rt},methods:{createTask:function(){this.$store.dispatch("createTask",{task:this.task,project_id:this.data.id})}}},It=At,Ut=r("ce7e"),Mt=Object(m["a"])(It,xt,wt,!1,null,null,null),qt=Mt.exports;p()(Mt,{VBtn:v["a"],VCard:h["a"],VCardText:g["c"],VCol:gt["a"],VDatePicker:Ft["a"],VDivider:Ut["a"],VForm:P["a"],VIcon:k["a"],VMenu:Dt["a"],VRow:kt["a"],VTextField:V["a"]});var Bt={name:"ProjectItem",components:{TaskList:qt},props:["project"],data:function(){return{isEdit:!1,title:"",projectTitleRules:[function(t){return!!t||"Title is required"},function(t){return t&&t.length<=120||"Name must be less than 120 characters"}]}},methods:{updateProject:function(){var t=this;""===this.title?this.isEdit=!this.isEdit:this.$store.dispatch("updateProject",{id:this.project.id,title:this.title}).then((function(){t.project.attributes.title=t.title,t.isEdit=!t.isEdit}))},deleteProject:function(){this.$store.dispatch("deleteProject",this.project.id)}}},Nt=Bt,zt=Object(m["a"])(Nt,jt,St,!1,null,null,null),Jt=zt.exports;p()(zt,{VBtn:v["a"],VBtnToggle:yt["a"],VCard:h["a"],VCardActions:g["a"],VCardText:g["c"],VCardTitle:g["d"],VCol:gt["a"],VForm:P["a"],VIcon:k["a"],VRow:kt["a"],VTextField:V["a"]});var Kt={name:"ProjectList",components:{ProjectItem:Jt},data:function(){return{}},computed:{projects:function(){return this.$store.getters.projects},listStatus:function(){return this.$store.getters.listStatus}},mounted:function(){this.$store.dispatch("getProjects")}},Qt=Kt,Ht=r("3129"),Gt=Object(m["a"])(Qt,Et,Tt,!1,null,null,null),Yt=Gt.exports;p()(Gt,{VCol:gt["a"],VRow:kt["a"],VSkeletonLoader:Ht["a"]});var Wt={name:"ProjectContainer",components:{ProjectCreation:_t,ProjectList:Yt},data:function(){return{}},computed:{projects:function(){return this.$store.getters.projects}}},Xt=Wt,Zt=Object(m["a"])(Xt,dt,mt,!1,null,null,null),te=Zt.exports;p()(Zt,{VCard:h["a"],VCardText:g["c"],VCol:gt["a"],VContainer:Z["a"],VRow:kt["a"]});var ee={name:"Home",components:{ProjectsContainer:te}},re=ee,ae=Object(m["a"])(re,lt,ut,!1,null,null,null),ne=ae.exports;a["a"].use(ct["a"]);var oe=[{path:"/",name:"Home",component:ne}],se=new ct["a"]({mode:"history",base:"/",routes:oe}),ie=se,ce=(r("99af"),r("c740"),r("4160"),r("a434"),r("159b"),r("2909")),le=r("2f62"),ue=r("bc3a"),de=r.n(ue),me=r("a78e"),fe=r.n(me),pe="https://rubygaragetodo.herokuapp.com/api/v1/";a["a"].use(le["a"]);var ve=new le["a"].Store({state:{isLogin:fe.a.get("logged"),userEmail:fe.a.get("user-email"),status:"",listStatus:!0,modal:!1,projects:[]},mutations:{STATE_REQUEST:function(t){t.status="loading"},STATE_SUCCESS:function(t){t.status="success"},LIST_REQUEST:function(t){t.listStatus=!0},LIST_SUCCESS:function(t){t.listStatus=!1},SET_MODAL:function(t){t.modal=!t.modal},SET_SESSION:function(t){t.isLogin=!t.isLogin},SET_EMAIL:function(t,e){t.userEmail=e},FETCH_PROJECTS:function(t,e){t.projects=e},ADD_PROJECT:function(t,e){t.projects=[e].concat(Object(ce["a"])(t.projects))},DELETE_PROJECT:function(t,e){t.projects.splice(t.projects.findIndex((function(t){return t.id===e})),1)},ADD_TASK:function(t,e){var r=t.projects.findIndex((function(t){return t.id==e.project_id}));t.projects[r].attributes.tasks=[].concat(Object(ce["a"])(t.projects[r].attributes.tasks),[e])},DELETE_TASK:function(t,e){var r=t.projects.findIndex((function(t){return t.id==e.project_id}));t.projects[r].attributes.tasks.splice(t.projects[r].attributes.tasks.findIndex((function(t){return t.id===e.id})),1)},SET_COOKIES:function(t,e){e.forEach((function(t){return fe.a.set(t.name,t.value,{expires:1})}))},DELETE_COOKIES:function(t,e){e.forEach((function(t){return fe.a.remove(t.name)})),t.projects=[]}},actions:{userRegistration:function(t,e){var r=t.dispatch,a=e.user;de.a.post(pe+"signup",{user:a}).then((function(t){console.log(t),setTimeout((function(){return r("createSession",{user:a})}),500)}))},createSession:function(t,e){var r=t.commit,a=e.user;r("STATE_REQUEST"),de.a.post(pe+"login",{user:a}).then((function(t){r("STATE_SUCCESS");var e=[{name:"token",value:t.headers.authorization},{name:"user-id",value:t.data.user.id},{name:"user-email",value:t.data.user.email},{name:"logged",value:!0}];r("SET_COOKIES",e),r("SET_EMAIL",t.data.user.email),r("SET_SESSION"),r("SET_MODAL")}))},destroySession:function(t){var e=t.commit;e("DELETE_COOKIES",[{name:"token"},{name:"user-id"},{name:"user-email"},{name:"logged"}]),e("SET_SESSION"),e("SET_MODAL")},setSession:function(t){var e=t.commit;e("SET_SESSION")},createProject:function(t,e){var r=t.commit;r("STATE_REQUEST"),de.a.post(pe+"projects",{project:{title:e.title,user_id:fe.a.get("user-id")}},{headers:{Authorization:fe.a.get("token")}}).then((function(t){r("STATE_SUCCESS"),r("ADD_PROJECT",t.data.data)}))},updateProject:function(t,e){var r=t.commit;de.a.put(pe+"projects/"+e.id,{project:{title:e.title}},{headers:{Authorization:fe.a.get("token")}}).then((function(t){r("ADD_PROJECT",t.data.data)}))},deleteProject:function(t,e){var r=t.commit;de.a.delete(pe+"projects/"+e,{headers:{Authorization:fe.a.get("token")}}).then(r("DELETE_PROJECT",e))},getProjects:function(t){var e=t.commit;e("LIST_REQUEST"),de.a.get(pe+"projects.json",{params:{user_id:fe.a.get("user-id")},headers:{Authorization:fe.a.get("token")}}).then((function(t){e("FETCH_PROJECTS",t.data.data),e("LIST_SUCCESS")}))},setModal:function(t){var e=t.commit;e("SET_MODAL")},createTask:function(t,e){var r=t.commit;de.a.post(pe+"tasks",{task:{name:e.task.title,date:e.task.date,project_id:e.project_id,user_id:fe.a.get("user-id")}},{headers:{Authorization:fe.a.get("token")}}).then((function(t){r("ADD_TASK",t.data)}))},doneTask:function(t,e){var r=t.commit;console.log(r,e),de.a.put(pe+"tasks/"+e.id,{task:{done:e.status}},{headers:{Authorization:fe.a.get("token")}})},updateTask:function(t,e){var r=t.commit;console.log(r),de.a.put(pe+"tasks/"+e.id,{task:{name:e.name,date:e.date}},{headers:{Authorization:fe.a.get("token")}})},deleteTask:function(t,e){var r=t.commit;de.a.delete(pe+"tasks/"+e.id,{headers:{Authorization:fe.a.get("token")}}).then(r("DELETE_TASK",e))}},modules:{},getters:{isLogin:function(t){return t.isLogin},status:function(t){return t.status},listStatus:function(t){return t.listStatus},modal:function(t){return t.modal},projects:function(t){return t.projects},userEmail:function(t){return t.userEmail}}}),he=(r("5363"),r("f309"));a["a"].use(he["a"]);var ge=new he["a"]({theme:{dark:!0},icons:{iconfont:"mdi"}});a["a"].config.productionTip=!1,new a["a"]({router:ie,store:ve,vuetify:ge,render:function(t){return t(st)}}).$mount("#app")}});
//# sourceMappingURL=app.453a1675.js.map